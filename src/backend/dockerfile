FROM denoland/deno:2.0.0

EXPOSE 8000

USER deno

WORKDIR /app
COPY package*.json ./
RUN npm install

COPY . .

CMD ["deno", "run", "--allow-all", "app.ts"]